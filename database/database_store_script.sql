-- MySQL Script generated by MySQL Workbench
-- Thu May  6 10:47:59 2021
-- Model: New Model    Version: 1.0
-- MySQL Workbench Forward Engineering

SET @OLD_UNIQUE_CHECKS=@@UNIQUE_CHECKS, UNIQUE_CHECKS=0;
SET @OLD_FOREIGN_KEY_CHECKS=@@FOREIGN_KEY_CHECKS, FOREIGN_KEY_CHECKS=0;
SET @OLD_SQL_MODE=@@SQL_MODE, SQL_MODE='ONLY_FULL_GROUP_BY,STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION';

-- -----------------------------------------------------
-- Schema Store
-- -----------------------------------------------------

-- -----------------------------------------------------
-- Schema Store
-- -----------------------------------------------------
CREATE SCHEMA IF NOT EXISTS `Store` DEFAULT CHARACTER SET utf8 ;
USE `Store` ;

-- -----------------------------------------------------
-- Table `Store`.`users`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Store`.`users` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `login` VARCHAR(45) NOT NULL,
  `password` VARCHAR(45) NOT NULL,
  `role` ENUM("ADMIN", "CLIENT") NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  `phone` VARCHAR(45) NOT NULL,
  `status` ENUM("INACTIVE", "ACTIVE", "BLOCKED") NOT NULL,
  UNIQUE INDEX `email_UNIQUE` (`login` ASC) VISIBLE,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Store`.`orders`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Store`.`orders` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `user_id` BIGINT(20) NOT NULL,
  `date_time` DATETIME NULL,
  `status` ENUM("BASKET", "PLACED", "ACCEPTED", "READY", "DELIVERED", "CANCELED") NOT NULL,
  `payment_method` ENUM("CASH", "CARD", "ONLINE") NULL,
  `cost` DECIMAL NULL,
  `delivery_method` ENUM("PICKUP", "DELIVERY") NULL,
  `city` VARCHAR(45) NULL,
  `street` VARCHAR(45) NULL,
  `house` VARCHAR(45) NULL,
  `apartment` VARCHAR(45) NULL,
  PRIMARY KEY (`id`),
  INDEX `fk_orders_users1_idx` (`user_id` ASC) VISIBLE,
  CONSTRAINT `fk_orders_users1`
    FOREIGN KEY (`user_id`)
    REFERENCES `Store`.`users` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Store`.`product_categories`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Store`.`product_categories` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `category` VARCHAR(45) NOT NULL,
  `image_name` VARCHAR(45) NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Store`.`products`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Store`.`products` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `category_id` BIGINT(20) NOT NULL,
  `name` VARCHAR(45) NOT NULL,
  `image_name` VARCHAR(45) NULL,
  `price` DECIMAL NOT NULL,
  `quantity` INT NOT NULL DEFAULT 0,
  PRIMARY KEY (`id`),
  INDEX `fk_product_category1_idx` (`category_id` ASC) VISIBLE,
  CONSTRAINT `fk_product_category1`
    FOREIGN KEY (`category_id`)
    REFERENCES `Store`.`product_categories` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Store`.`order_product_connection`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Store`.`order_product_connection` (
  `order_id` BIGINT(20) NOT NULL,
  `product_id` BIGINT(20) NOT NULL,
  `quantity_of_product` INT NOT NULL DEFAULT 1,
  PRIMARY KEY (`order_id`, `product_id`),
  INDEX `fk_orders_has_product_product1_idx` (`product_id` ASC) VISIBLE,
  INDEX `fk_orders_has_product_orders1_idx` (`order_id` ASC) VISIBLE,
  CONSTRAINT `fk_orders_has_product_orders1`
    FOREIGN KEY (`order_id`)
    REFERENCES `Store`.`orders` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_orders_has_product_product1`
    FOREIGN KEY (`product_id`)
    REFERENCES `Store`.`products` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Store`.`supplies`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Store`.`supplies` (
  `id` BIGINT(20) NOT NULL AUTO_INCREMENT,
  `data_time` DATETIME NOT NULL,
  PRIMARY KEY (`id`))
ENGINE = InnoDB;


-- -----------------------------------------------------
-- Table `Store`.`supply_product_connection`
-- -----------------------------------------------------
CREATE TABLE IF NOT EXISTS `Store`.`supply_product_connection` (
  `supply_id` BIGINT(20) NOT NULL,
  `product_id` BIGINT(20) NOT NULL,
  `quantity_of_product` INT NOT NULL,
  PRIMARY KEY (`supply_id`, `product_id`),
  INDEX `fk_deliveries_has_product_product1_idx` (`product_id` ASC) VISIBLE,
  INDEX `fk_deliveries_has_product_deliveries1_idx` (`supply_id` ASC) VISIBLE,
  CONSTRAINT `fk_deliveries_has_product_deliveries1`
    FOREIGN KEY (`supply_id`)
    REFERENCES `Store`.`supplies` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION,
  CONSTRAINT `fk_deliveries_has_product_product1`
    FOREIGN KEY (`product_id`)
    REFERENCES `Store`.`products` (`id`)
    ON DELETE NO ACTION
    ON UPDATE NO ACTION)
ENGINE = InnoDB;


SET SQL_MODE=@OLD_SQL_MODE;
SET FOREIGN_KEY_CHECKS=@OLD_FOREIGN_KEY_CHECKS;
SET UNIQUE_CHECKS=@OLD_UNIQUE_CHECKS;

INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('1', 'admin@gmail.com', '8cb2237d0679ca88db6464eac60da96345513964', 'ADMIN', 'Admin', '+375298136629', 'ACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('2', 'podgayskaya@tut.by', '4e1d7924d1f1b89770d7992a4efca1058e8ad51b', 'CLIENT', 'Alexandra', '+375336529874', 'ACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('3', 'melec@gmail.com', 'dea742e166979027ae70b28e0a9006fb1010e760', 'CLIENT', 'Андрей', '+375446352874', 'ACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('4', 'kuksar@gmail.com', '7c4a8d09ca3762af61e59520943dc26494f8941b', 'CLIENT', 'Mariya', '+375298136658', 'ACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('5', 'leschic@tut.by', '3ad5d414b3cb77724e0bc6b2ee7d511895284b59', 'CLIENT', 'Alena', '+375448456971', 'INACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('6', 'kazenko@mail.ru', 'b13afba6692114c45282cb3413e2ac2b006aab2e', 'CLIENT', 'Alex', '+375295124786', 'BLOCKED');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('7', 'shimko@tut.by', '8e25a52f18043bc52528e2ae31d93d59809422d4', 'CLIENT', 'Artem', '+375297415638', 'ACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('8', 'belablockaya@gmail.com', '8f64d8b0354db09de4cb806c9ba7a0e3441dbf2d', 'CLIENT', 'Anna', '+375448725498', 'ACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('9', 'vrublevskaya@tut.by', 'd54c6b51f72d307acd0f4f5a4e4b57d1371d88cd', 'CLIENT', 'Kristina', '+375449863254', 'INACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('10', 'karavackiy@gmail.com', '3e1dfe79b5d7f13d51f58d8c2730895127bdc13', 'CLIENT', 'Vlad', '+375298456987', 'BLOCKED');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('11', 'gysakova@mail.ru', '930e345a714de693c35e227c8e9c9ac5bb5787ea', 'CLIENT', 'Vika', '+375336598741', 'ACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('12', 'rybchik@tut.by', '31e2eb8841ae109bef4591d1e86c5dc74da5a3e5', 'CLIENT', 'Миша', '+375295698741', 'ACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('13', 'orlova@tut.by', 'acdedc332f89bb55fdc639a1835f1f468e69c08a', 'CLIENT', 'Olga', '+375335689741', 'ACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('14', 'meshko@mail.ru', 'd796f34bd74a4d224105654b54d49b0faaf35658', 'CLIENT', 'Rita', '+375298523698', 'ACTIVE');
INSERT INTO `store`.`users` (`id`, `login`, `password`, `role`, `name`, `phone`, `status`) VALUES ('15', 'kadushkevich@tut.by', '1c9805ecfa604253d043d94edc96539310c69b94', 'CLIENT', 'Nastya', '+375448145698', 'ACTIVE');

INSERT INTO `store`.`product_categories` (`id`, `category`, `image_name`) VALUES ('1', 'desks', 'desks.jpg');
INSERT INTO `store`.`product_categories` (`id`, `category`, `image_name`) VALUES ('2', 'beds', 'beds.jpg');
INSERT INTO `store`.`product_categories` (`id`, `category`, `image_name`) VALUES ('3', 'cupboards', 'cupboards.jpg');
INSERT INTO `store`.`product_categories` (`id`, `category`, `image_name`) VALUES ('4', 'nightstands', 'nightstands.jpg');

INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('1', '1', 'Desk TRIO', 'desk1.jpg', '320', '1');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('2', '1', 'Desk NATURE', 'desk2.jpg', '130', '2');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('3', '2', 'Bed TRIO', 'bed1.jpg', '785', '3');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('4', '2', 'Bed NATURE', 'bed2.jpg', '450', '1');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('5', '3', 'Cupboard TRIO', 'cupboard1.jpg', '810', '2');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('6', '3', 'Cupboard NATURE', 'cupboard2.jpg', '1090', '2');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('7', '4', 'Nightstand TRIO', 'nightstand1.jpg', '130', '5');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('8', '4', 'Nightstand NATURE', 'nightstand2.jpg', '140', '1');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('9', '1', 'Desk MONTESSORI', 'desk3.jpg', '210', '5');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('10', '2', 'Bed MONTESSORI', 'bed3.jpg', '900', '3');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('11', '3', 'Cupboard MONTESSORI', 'cupboard3.jpg', '1210', '5');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('12', '4', 'Nightstand MONTESSORI', 'nightstand3.jpg', '135', '4');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('13', '3', 'Cupboard ROMANTICA', 'cupboard4.jpg', '1000', '3');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('14', '2', 'Bed ROMANTICA', 'bed4.jpg', '553', '2');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('15', '1', 'Desk ROMANTICA', 'desk4.jpg', '358', '2');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('16', '4', 'Nightstand ROMANTICA', 'nightstand4.jpg', '276', '6');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('17', '3', 'Cupboard YAKUT', 'cupboard5.jpg', '658', '4');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('18', '1', 'Desk YAKUT', 'desk5.jpg', '420', '1');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('19', '4', 'Nightstand YAKUT', 'nightstand5.jpg', '280', '10');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('20', '2', 'Bed YAKUT', 'bed5.jpg', '436', '2');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('21', '2', 'Bed PIRATE', 'bed6.jpg', '1105', '6');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('22', '1', 'Desk PIRATE', 'desk6.jpg', '814', '3');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('23', '3', 'Cupboard PIRATE', 'cupboard6.jpg', '1000', '8');
INSERT INTO `store`.`products` (`id`, `category_id`, `name`, `image_name`, `price`, `quantity`) VALUES ('24', '4', 'Nightstand PIRATE', 'nightstand6.jpg', '240', '5');

INSERT INTO `store`.`orders` (`id`, `user_id`, `date_time`, `status`, `payment_method`, `cost`, `delivery_method`, `city`, `street`, `house`, `apartment`) VALUES ('1', '4', '2018-08-20 15:20:15', 'DELIVERED', 'ONLINE', '2590', 'DELIVERY', 'Минск', 'Геологическая', '103', '6');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('1', '9', '1');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('1', '10', '1');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('1', '11', '1');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('1', '12', '2');
INSERT INTO `store`.`orders` (`id`, `user_id`, `date_time`, `status`, `payment_method`, `cost`, `delivery_method`, `city`, `street`, `house`, `apartment`) VALUES ('2', '4', '2019-02-22 21:03:58', 'CANCELED', 'CASH', '450', 'DELIVERY', 'Минск', 'Карвата', '10В', '79');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('2', '5', '1');
INSERT INTO `store`.`orders` (`id`, `user_id`, `date_time`, `status`, `payment_method`, `cost`, `delivery_method`) VALUES ('3', '4', '2020-10-05 08:15:35', 'DELIVERED', 'CARD', '1106', 'PICKUP');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('3', '14', '2');
INSERT INTO `store`.`orders` (`id`, `user_id`, `date_time`, `status`, `payment_method`, `cost`, `delivery_method`, `city`, `street`, `house`, `apartment`) VALUES ('4', '4', '2021-04-18 11:40:14', 'READY', 'CASH', '1000', 'DELIVERY', 'Минск', 'Карвата', '10В', '79');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('4', '13', '1');
INSERT INTO `store`.`orders` (`id`, `user_id`, `date_time`, `status`, `payment_method`, `cost`, `delivery_method`) VALUES ('5', '4', '2020-05-10 17:25:45', 'ACCEPTED', 'CARD', '420', 'PICKUP');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('5', '9', '2');
INSERT INTO `store`.`orders` (`id`, `user_id`, `date_time`, `status`, `payment_method`, `cost`, `delivery_method`) VALUES ('6', '2', '2020-05-17 14:05:28', 'PLACED', 'CASH', '210', 'PICKUP');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('6', '9', '1');
INSERT INTO `store`.`orders` (`id`, `user_id`, `date_time`, `status`, `payment_method`, `cost`, `delivery_method`) VALUES ('7', '5', '2020-05-17 18:17:45', 'PLACED', 'CARD', '260', 'PICKUP');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('7', '2', '2');
INSERT INTO `store`.`orders` (`id`, `user_id`, `date_time`, `status`, `payment_method`, `cost`, `delivery_method`) VALUES ('8', '7', '2020-05-17 18:25:50', 'PLACED', 'ONLINE', '553', 'PICKUP');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('8', '14', '1');
INSERT INTO `store`.`orders` (`id`, `user_id`, `date_time`, `status`, `payment_method`, `cost`, `delivery_method`) VALUES ('9', '3', '2020-05-17 20:00:05', 'PLACED', 'CARD', '260', 'PICKUP');
INSERT INTO `store`.`order_product_connection` (`order_id`, `product_id`, `quantity_of_product`) VALUES ('9', '2', '2');
